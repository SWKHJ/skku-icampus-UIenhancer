<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>Cat Custom Shop / Study Timer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <!-- 헤더 -->
  <header class="hdr" role="banner">
    <div class="title">🐾 Cat Custom Shop</div>
    <div class="points">Points: <span id="points">0</span></div>
  </header>

  <!-- 탭: Shop / Timer (Statistics, Export는 주석 보관) -->
  <nav class="tabs" role="tablist" aria-label="Popup Tabs">
    <button id="tabShop"  data-tab="shop"  class="tab-btn active" aria-selected="true"  role="tab">Shop</button>
    <button id="tabTimer" data-tab="timer" class="tab-btn"        aria-selected="false" role="tab">Timer</button>
    <!--
    <button id="tabStats"  data-tab="stats"  class="tab-btn" aria-selected="false" role="tab">Statistics</button>
    <button id="tabExport" data-tab="export" class="tab-btn" aria-selected="false" role="tab">Export</button>
    -->
  </nav>

  <!-- ===== SHOP PANE ===== -->
  <section id="pane-shop" class="pane is-active" role="tabpanel" aria-labelledby="tabShop">
    <section class="controls">
      <button id="add100">+100</button>
      <button id="sub100">-100</button>
      <button id="resetShop" class="danger">초기화</button>
    </section>
    <section class="grid" id="store" aria-live="polite"></section>
  </section>

  <!-- ===== TIMER PANE ===== -->
  <section id="pane-timer" class="pane" hidden role="tabpanel" aria-labelledby="tabTimer">
    <!-- Timer 상단 미니 합계 -->
<div class="mini-agg" aria-live="polite">
  <span class="label">오늘 누적</span>
  <span id="miniTotal">00:00:00</span>
  <!-- 필요하면 포인트/주간 합계도 확장 가능: <span id="miniPts">0pt</span> -->
</div>
    <section class="task">
      <label for="work">작업명(과목)</label>
      <input id="work" type="text" placeholder="예) 컴퓨터네트워크" autocomplete="off" />
      <label for="detail">내용(과제/세부)</label>
      <input id="detail" type="text" placeholder="예) Week1 과제" autocomplete="off" />
    </section>

    <section class="timer" aria-live="polite">
      <div id="display">00:00</div>
      <!-- 진행 상태 배지 -->
      <div id="pausedBadge" hidden class="badge"></div>
      <div class="controls">
        <button id="btnStart" class="btn-start">시작</button>
        <button id="btnPause" class="btn-pause" disabled title="시작 후 사용 가능">일시중지</button>
        <button id="btnStop"  class="btn-stop"  disabled title="시작 후 사용 가능">정지</button>
      </div>
      <small id="modeHint">점수: 분당 0.1점 + 30분마다 +1</small>
    </section>


<section class="today-items">
  <div class="list-hdr">오늘의 항목</div>
  <div id="todayItems"></div>
</section>
  </section>

  <!-- ===== Statistics (보류, 모듈 전환 후 사용) =====
  <section id="pane-stats" class="pane" hidden role="tabpanel" aria-labelledby="tabStats">
    <div class="stats-tabs">
      <button id="btnStatsDaily"  class="subtab-btn active">일일</button>
      <button id="btnStatsWeekly" class="subtab-btn">주간</button>
    </div>

    <section id="dailyView" class="daily-view">
      <div class="daily-header">
        <input id="dailyDate" type="date" />
        <div class="sum">
          <span id="dailyTotalMin">0m</span> / <span id="dailyTotalPts">0pt</span>
        </div>
      </div>
      <div id="dailyList" class="daily-list"></div>
    </section>

    <section id="weeklyView" class="weekly-view" hidden>
      <div class="weekly-header">
        <button id="weekPrev" class="ghost" aria-label="이전 주">&lt;</button>
        <div id="weekRange" class="week-range">YYYY-MM-DD ~ YYYY-MM-DD</div>
        <button id="weekNext" class="ghost" aria-label="다음 주">&gt;</button>
      </div>
      <div id="weeklyBars" class="weekly-bars"></div>
      <div class="legend">막대: 총 학습 분</div>
    </section>
  </section>
  -->

  <!-- ===== Export (보류, 모듈 전환 후 사용) =====
  <section id="pane-export" class="pane" hidden role="tabpanel" aria-labelledby="tabExport">
    <section class="export-range">
      <label>시작</label>
      <input id="rangeStart" type="date" />
      <label>끝</label>
      <input id="rangeEnd" type="date" />
      <button id="btnExportRange">CSV 내보내기</button>
    </section>

    <section class="export-clean">
      <button id="btnPurgeOld" title="180일보다 오래된 기록을 CSV로 저장한 뒤 확장에서 삭제합니다.">
        오래된 로그 내보내고 정리(180일)
      </button>
      <div id="purgeResult" class="purge-result"></div>
    </section>
  </section>
  -->

  <!-- 오케스트레이터: 탭 전환 + pane 모듈 지연 로드 -->
  <script type="module" src="popup.js"></script>
</body>
</html>
